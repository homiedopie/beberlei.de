<!DOCTYPE html><!--[if lt IE 7]>      <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="My blog">
        <meta name="viewport" content="width=device-width">
        <title>First impressions on Zend_Soap and a basic implementation &mdash; Whitewashing</title>
<meta name="google-site-verification" content="mycr8JCbLYq9QcOyh4Ub1esAdN-awH9ut6nyTKUTgE4" />
<meta content="width=device-width" />

            <link rel="stylesheet" href="../../../_static/normalize.css" type="text/css">
            <link rel="stylesheet" href="../../../_static/sphinx.css" type="text/css">
            <link rel="stylesheet" href="../../../_static/main.css" type="text/css">
            <link rel="stylesheet" href="../../../_static/default.css" type="text/css">
            <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
            <link rel="stylesheet" href="../../../_static/webfont.css" type="text/css">

        <link rel="shortcut icon" href="../../../_static/tinkerer.ico" /><!-- Load modernizr and JQuery -->
        <script src="../../../_static/vendor/modernizr-2.6.2.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="../../../_static/vendor/jquery-1.8.2.min.js"><\/script>')</script>
        <script src="../../../_static/plugins.js"></script>
        <script src="../../../_static/main.js"></script>
        <link rel="next" title="Zend Helper for jQuery UI Widgets Demo" href="../22/zend-helper-for-jquery-ui-widgets-demo.html" /><link rel="prev" title="Wrestling with Dojo" href="../02/wrestling-with-dojo.html" /><link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.html" /><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script><script type="text/javascript" src="../../../_static/underscore.js"></script><script type="text/javascript" src="../../../_static/doctools.js"></script><script type="text/javascript" src="../../../_static/disqus.js"></script><script type="text/javascript" src="../../../_static/ga.js"></script></head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

      <div id="container">
<div class="container">
    <div id="header" class="span-8">
        <a href="../../../index.html"><img src="../../../_static/logo.jpg" alt="Whitewashing.de" /></a>
    </div>
    <div class="span-11" id="about">
        <p>
            Whitewashing is the blog of Benjamin Eberlei. Benjamin works for
            <a href="http://qafoo.com/" target="_blank">Qafoo</a> on the PHP
            Profiler <a href="https://tideways.io" target="_blank">Tideways</a>
            and you can book him for consulting and trainings.
        </p>
    </div>
    <div class="span-5 last">
        <p class="buttons" style="text-align: right">
            <a href="https://twitter.com/beberlei"><img src="../../../_static/twitter-logo.png" alt="Follow me on twitter" height="50" /></a>
            <a href="http://www.whitewashing.de/rss.xml"><img src="../../../_static/rss2.png" alt="Subscribe to RSS" height="50" /></a>
            <a href="https://github.com/beberlei"><img src="../../../_static/github-logo.png" alt="My Github Profile" height="50" /></a>
        </p>
    </div>
</div>

<div class="main-container">
<div class="container">
    <div class="span-24 content">
      <div>
        <div>
          <div id="2008-08-08-first-impressions-on-zend-soap-and-a-basic-implementation">
            
            
    <div class="timestamp postmeta">
            <span>August 08, 2008</span>
        </div>

    <div class="section" id="first-impressions-on-zend-soap-and-a-basic-implementation">
<h1>First impressions on Zend_Soap and a basic implementation</h1>
<p>The <a class="reference external" href="http://framework.zend.com">Zend Framework</a> release candidate for
version 1.6 includes a new component for SOAP operations.
<a class="reference external" href="http://framework.zend.com/manual/en/zend.soap.html">Zend_Soap_Server/Client</a>
extend the PHP functionality of the SOAPClient and SOAPServer objects,
which by itself is trivial. The more important functionality it ads to
the package is the <a class="reference external" href="http://framework.zend.com/manual/en/zend.soap.autodiscovery.introduction.html">AutoDiscovery
Component</a>.</p>
<p>Generally you can use <a class="reference external" href="http://en.wikipedia.org/wiki/SOAP">SOAP</a> in the
so called &#8220;non-wsdl&#8221; mode, that is if you specify the correct options
like the soap service location and uri, you don&#8217;t need any description
of the service for the clients. This is only useful if you&#8217;re using the
SOAP Service internally since you then know about all the available
functions and methods. If you want to offer the Service for external
users you want to use the WSDL-mode: Generate a
<a class="reference external" href="http://en.wikipedia.org/wiki/Web_Services_Description_Language">WSDL</a>
that describes the services available methods, their parameters and
return types is an important task.</p>
<p>Using Zend_Soap_AutoDiscover you can generate your WSDL file
automatically by reflecting on the given Service Class methods. This
works as follows. We setup a simple service:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>class HelloWorldService
{
    /**
     * @return string
     */
    public function helloWorld()
    {
        return &quot;Hello World!&quot;;
    }

    /**
     * @return array
     */
    public function getFruits()
    {
        return array(&#39;apple&#39;, &#39;orange&#39;, &#39;banana&#39;);
    }
}
</pre></div>
</div>
</div></blockquote>
<p>It is important that you specify the Doc Comments &#64;param and &#64;return
otherwise the AutoDiscovery of the correct parameter and return types
cannot be resolved. We will now setup a simple SOAP Server access point,
that will also generate our WSDL file for description of this HelloWorld
service:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>require_once &quot;HelloWorldService.php&quot;;
require_once &quot;Zend/Soap/Server.php&quot;;
require_once &quot;Zend/Soap/AutoDiscover.php&quot;;

if(isset($_GET[&#39;wsdl&#39;])) {
    $autodiscover = new Zend_Soap_AutoDiscover();
    $autodiscover-&gt;setClass(&#39;HelloWorldService&#39;);
    $autodiscover-&gt;handle();
} else {

    $soap = new Zend_Soap_Server(&quot;http://localhost/soapserver.php?wsdl&quot;); // this current file here
    $soap-&gt;setClass(&#39;HelloWorldService&#39;);
    $soap-&gt;handle();
}
</pre></div>
</div>
</div></blockquote>
<p>Now we have our SOAP Service up and running and any client can access
the HelloWorldService class from a remote or local location with just
this simple lines:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>require_once &quot;Zend/Exception.php&quot;;
require_once &quot;Zend/Soap/Client.php&quot;;

try {
    $client = new Zend_Soap_Client(&quot;http://localhost/soapserver.php?wsdl&quot;); // Servers WSDL Location
    $string =  $client-&gt;helloWorld();
    $fruits = $client-&gt;getFruits();

    var_dump($string);
    var_dump($fruits);
} catch(Zend_Exception $e) {
    echo $e-&gt;getMessage();
}
</pre></div>
</div>
<p>This is easy. Additionally Zend_Soap offers a WSDL class to
generate your own WSDL file based on your special preferences, which
is a nice feature. I guess only some people can write a correct WSDL
XML specification file on their own from scratch, so using a
powerful helper is reasonable.</p>
<p>The usage of Zend_Soap is quite simple and straightforward as is
PHP5&#8217;s internal SOAP Service and might therefore gain widespread
use. I have never tested PEAR&#8217;s WSDL Autodiscovery, so i cannot draw
comparisons.</p>
</div></blockquote>
</div>


    <div id="donation">
        <script data-gittip-username="beberlei" data-gittip-widget="button" src="//gttp.co/v1.js"></script>
        <script id='fbe2w33'>(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=beberlei&button=compact&url='+encodeURIComponent(document.URL);f.title='Flattr';f.height=20;f.width=110;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('fbe2w33');</script>
    </div>

    <div id="disqus_thread"></div><script type="text/javascript">    var disqus_shortname = "whitewashing";    var disqus_identifier = "2008/08/08/first-impressions-on-zend-soap-and-a-basic-implementation";    disqus_thread();</script><noscript>Please enable JavaScript to view the    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'whitewashing';
                var disqus_url = 'http://www.whitewashing.de/2008/08/08/first-impressions-on-zend-soap-and-a-basic-implementation.html';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>         
        </div>
      </div>
    </div>

    <div class="span-24 last" style="margin-top: 20px"><aside class="yui-b" id="sidebar" class="sidebar"><section><div class="widget">
    <h1>Recent Posts</h1>
    <ul><li>
            <a href="../../../2015/06/12/the_containertest.html">The ContainerTest</a>
        </li><li>
            <a href="../../../2015/04/11/monolithic_repositories_with_php_and_composer.html">Monolithic Repositories with PHP and Composer</a>
        </li><li>
            <a href="../../../2015/02/26/integrate_symfony_and_webpack.html">Integrate Symfony and Webpack</a>
        </li><li>
            <a href="../../../2015/02/19/vagrant_nfs_and_npm.html">Vagrant, NFS and NPM</a>
        </li><li>
            <a href="../../../2015/02/14/phpunit_before_annotations_and_traits_for_code_reuse.html">PHPunit @before Annotations and traits for code-reuse</a>
        </li><li>
            <a href="../../../2015/02/10/a_case_for_weak_type_hints_only_in_php7.html">A case for weak type hints only in PHP7</a>
        </li><li>
            <a href="../../../2015/02/01/running_hhvm_webserver.html">Running HHVM with a Webserver</a>
        </li><li>
            <a href="../../../2014/10/26/symfony_all_the_things_web.html">Symfony All The Things (Web)</a>
        </li><li>
            <a href="../../../2014/10/14/lightweight_symfony2_controllers.html">Lightweight Symfony2 Controllers</a>
        </li><li>
            <a href="../../../2014/08/11/spotting_featureenvy_and_refactoring.html">Spotting Feature Envy and Refactoring</a>
        </li></ul>
</div>
</section>
          </aside></div>
</div>
</div> <!-- #main-container -->

        <div class="footer-container">
<div class="container">
    <div class="span-24 content">
        <div class="footer">
            &copy; Copyright 2008-2014, Benjamin Eberlei.
            Powered by <a href="http://www.tinkerer.me/">Tinkerer</a> and <a href="http://sphinx.pocoo.org/">Sphinx</a>.

        
        </div>
    </div>
</div>
</div> <!-- footer-container -->

      </div> <!--! end of #container --><!--[if lt IE 7 ]>
          <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
          <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
        <![endif]-->
    </body>
</html>