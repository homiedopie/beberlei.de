<!DOCTYPE html><!--[if lt IE 7]>      <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="Blog of Benjamin Eberlei, covering a wide range of programming, bootstrapping and entrepreneurial topics">
        <meta name="viewport" content="width=device-width">
        <meta name="google-site-verification" content="mycr8JCbLYq9QcOyh4Ub1esAdN-awH9ut6nyTKUTgE4">
        <title>Home &mdash; beberlei.de</title>
            <link rel="stylesheet" href="/_static/pygments.css" type="text/css" />
            <link rel="stylesheet" href="/_static/css/bootstrap.min.css" type="text/css" />
            <link rel="stylesheet" href="/_static/blog.css" type="text/css" />
            <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" />
        <link rel="shortcut icon" href="_static/tinkerer.ico" /><!-- Load modernizr and JQuery -->
        <script src="_static/vendor/modernizr-2.6.2.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="_static/vendor/jquery-1.8.2.min.js"><\/script>')</script>
        <script src="_static/plugins.js"></script>
        <script src="_static/main.js"></script>
        <link rel="search" title="Search" href="search.html" /><link rel="next" title="Older" href="page2.html" /><link rel="alternate" type="application/rss+xml" title="RSS" href="rss.html" /><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.5.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script><script type="text/javascript" src="_static/underscore.js"></script><script type="text/javascript" src="_static/doctools.js"></script></head>
    <body role="document">
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

      <div id="container"><nav class="navbar navbar-dark">
		  <div class="container">
			  <div class="navbar-header">
				  <a class="navbar-brand" href="https://beberlei.de">Benjamin Eberlei</a>
			  </div>

			  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				  <ul class="nav navbar-nav navbar-right">
						<li><a href="#">Home</a></li>
						<li><a href="pages/about.html">About</a></li>
						<li><a href="pages/debugging_php.html">Debugging</a></li>
						<li><a href="pages/imprint.html">Imprint</a></li>
						<li><a href="/archive.html">Archive</a></li>
					  <li><a href="/rss.xml">RSS</a></li>
				  </ul>
			  </div>
		  </div>
		</nav><div class="main-container" role="main"><div class="container">
				<div class="row">
					<div class="col-md-8 col-md-offset-2 col-sm-12"><article role="article">
							<div class="section">
            <h1><a href="2018/10/20/how_we_paid_the_hidden_costs_of_bootstrapping_tideways.html">How we paid the hidden costs of bootstrapping Tideways</a></h1>
<p>Justin Jackson started an extremely interesting discussion about the
<a class="reference external" href="https://justinjackson.ca/bootstrap-reality/">Bootstrappers paradox</a> and the
<a class="reference external" href="https://justinjackson.ca/cost/">hidden costs of bootstrapping</a> with <a class="reference external" href="https://saas.transistor.fm/episodes/your-revenue-forecast-is-wrong">replies
from many others</a>.</p>
<p>In this series of posts (there are more) he is discussing how hard
bootstrapping a SaaS business is in the first few years, when you are
essentially investing a lot of personal time and money until you can finally
get a return on this investment and pay yourself a decent salary.</p>
<div class="highlight-default"><div class="highlight"><pre><span/>All bootstrappers have to deal with the same tension: can I get this to
scale, while paying my bills, without burning out?
</pre></div>
</div>
<p>This is something I am thinking about a lot to understand the journey and
history of Tideways and by writing about my thoughts I can share my
unconventional route for “bootstrapping” a SaaS.</p>
<p>In his post Jason projects the growth to sustainable $ 20.000 MRR to take 5
years, which is much too long for my taste. We projected to reach 20.000€ MRR
(~ $23.000) after three years, and missing this target would probably have
meant a re-evaluation, maybe even shutdown or sale of Tideways.</p>
<p>We reached this goal this summer, after almost exactly three years.</p>
<p>What went into funding Tideways instead of money?</p>
<ul class="simple">
<li>I was able to invest 50+ hours/week and live on 50-75% of my previous salary
for two years only because I don’t have credits to pay; my wife and I don’t
have kids, no cars and no other large monthly expenses. We saved up a lot of
money that we partially invested into the company and partially used for
personal expenses during the first two years. Trading your own personal time
for bootstrapping a business is probably the largest, most hidden cost and
I for myself am pretty sure that I am never going to do this again.</li>
<li>My then employer <a class="reference external" href="https://qafoo.com">Qafoo</a> allowed me to work on Tideways
a few days per month and invested a lot of their own time after we decided to
found a company together and test product market fit. In return they now
own shares of the business.</li>
<li>We struck a deal with our first business partner <a class="reference external" href="https://syseleven.de">SysEleven</a> to trade hosting for Tideways in return for highly
discounted licenses for almost all their customers. This helped us with the
large foud-digit monthly hosting costs that we had from day one, because as a
monitoring company you need more servers than other SaaS, In return for
investing in us, they now have us as a happy paying customer and they still
get a good deal on licenses for their customers.</li>
<li>With over 7000 Twitter followers from my <a class="reference external" href="https://www.doctrine-project.org">Doctrine</a> open source project days and my reach
within the European and German PHP community I accidentily already built a
large audience that would be potential customers for Tideways. We didn’t need
to invest more time into building an audience and we luckily never had to pay
for customer acquisition. However realistically I invested hundrets of unpaid
hours into my open source work since 2009 that allowed me to build this
audience.</li>
</ul>
<p>I consider points 2 &amp; 3 “unconventional” ways for bootstrapping Tideways and
already having an audience (4) as a very long term investment that I didn’t
plan and got lucky with.</p>
<p>Roughly summing up these investments now, they amount to costs of around
400.000-500.000€ that Tideways would have required funding for.</p>
<p>Maybe raising 500.000€ would be possible in hindsight, but without previous
founding experience and no connections to investors, I don’t know if I would
have succeeded.</p>
<p>I consider our approach similar to <a class="reference external" href="https://rsvp.customer.io/bootstrapping-vs-vc-funded-youre-asking-the-wrong-question-926167386374">Fundstrapping</a>
but instead of money you raise freedom, time and resources from your investors.</p>
<p>Most specifically my advice is to find strategic early business parterns that
either become your first large customer from day one, or make your product
available to their large customer base.</p>


            

            <div class="metadata">
        <p>
            <small>
                Posted on October 20, 2018
                 by Benjamin Eberlei
            </small>
        </p>
    </div>
        </div><div class="separator post_separator"></div><div class="section">
            <h1><a href="2018/09/24/proofing_the_pythagorean_theorem_and_what_this_means_for_domain_driven_design.html">Proofing the Pythagorean theorem and what this means for Domain-Driven Design</a></h1>
<p>According to Wikipedia the <a class="reference external" href="https://en.wikipedia.org/wiki/Pythagorean_theorem#Other_proofs_of_the_theorem">Pythagoraen theorem</a>
is the theorem with the highest number of known proofs, citing a book
containing over 370 of them.</p>
<p>What does this mean for modelling under the Domain-Driven Design paradigm?</p>
<p>In discussions with other developers I often hear the opinion, that you should
develop the model of a software entirely disconnected from technical decisions
as long as possible and fully abstracted from the choices.</p>
<p>I held this opinion myself for a long time.</p>
<p>Discussing this with a colleague today I found a nice analogy to describe my
growing pain with this approach, something I wasn’t able to formulate before.</p>
<p>Maybe the analogy is a bit of a stretch.</p>
<p>The Pythagoraen theorem shows that you can find an entirely different solution
for the same problem by using a different toolbox. Finding one or more proofs
for the theorem depends on your knowledge of different fields of mathematics.
And depending on the toolbox, the solution is simple and elegant, or complex
and theoretical.</p>
<p>The reverse conclusion could be, that if you develop a model (theorem) entirely
abstracted from the future implementation and toolbox, then it must increase in
generality and complexity to take into account the potential implementation
with any kind of toolbox. Or the problem space is simple like the Pythagoraen
theorem that its description allows many implementations.</p>
<p>Consequently, if you make technical decisions and restrict yourself to fewer
approaches/toolboxes before building the model, then the resulting model can be
simpler under the assumption that you only need it to be solved under the given
technical constraints.</p>
<p>For example, take Redis as a choice of database. Its built in support for more
complex data-types allows to implement extremely simple abstractions directly
on top of Redis. If you know you use Redis up front for a problem that can be
solved with lists, sets or maps, then the model and code describing this domain
logic could be extremely simplified compared a solution that makes no
assumptions about the data storage.</p>


            

            <div class="metadata">
        <p>
            <small>
                Posted on September 24, 2018
                 by Benjamin Eberlei
            </small>
        </p>
    </div>
        </div><div class="separator post_separator"></div><div class="section">
            <h1><a href="2017/07/29/hide_slack_unread_and_highlight_tray_icon_on_ubuntu_linux.html">Hide Slack unread and highlight Tray Icon on Ubuntu/Linux</a></h1>
<p>The Slack Ubuntu/Linux application doesn’t provide a way to disable the tray
icon and that means the unread or highlight notification bubbles will distract
you whenever somebody writes something in ANY channel that you are in, even
when the messages are not even interesting for you.</p>
<p>I wrote to Slack support to make a feature request and they suggested to make
clever use of an upstream Electron bug that makes the tray icon disappear in
17.04 as a workaround. This gave me the idea for a  more stable workaround.</p>
<p>I poked around in the list of files of the <cite>slack-desktop</cite> package and found
out that you can just exchange the files for the tray icons , so that the Slack
app is fooled into thinking it is showing the unread or highlight icons.</p>
<div class="highlight-default"><div class="highlight"><pre><span/><span class="n">sudo</span> <span class="o">-</span><span class="n">i</span>
<span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">slack</span><span class="o">/</span><span class="n">resources</span><span class="o">/</span><span class="n">app</span><span class="o">.</span><span class="n">asar</span><span class="o">.</span><span class="n">unpacked</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">static</span>
<span class="n">mv</span> <span class="n">slack</span><span class="o">-</span><span class="n">taskbar</span><span class="o">-</span><span class="n">highlight</span><span class="o">.</span><span class="n">png</span> <span class="n">slack</span><span class="o">-</span><span class="n">taskbar</span><span class="o">-</span><span class="n">highlight</span><span class="o">-</span><span class="n">backup</span><span class="o">.</span><span class="n">png</span>
<span class="n">mv</span> <span class="n">slack</span><span class="o">-</span><span class="n">taskbar</span><span class="o">-</span><span class="n">unread</span><span class="o">.</span><span class="n">png</span> <span class="n">slack</span><span class="o">-</span><span class="n">taskbar</span><span class="o">-</span><span class="n">unread</span><span class="o">-</span><span class="n">backup</span><span class="o">.</span><span class="n">png</span>
<span class="n">cp</span> <span class="n">slack</span><span class="o">-</span><span class="n">taskbar</span><span class="o">-</span><span class="n">rest</span><span class="o">.</span><span class="n">png</span> <span class="n">slack</span><span class="o">-</span><span class="n">taskbar</span><span class="o">-</span><span class="n">highlight</span><span class="o">.</span><span class="n">png</span>
<span class="n">cp</span> <span class="n">slack</span><span class="o">-</span><span class="n">taskbar</span><span class="o">-</span><span class="n">rest</span><span class="o">.</span><span class="n">png</span> <span class="n">slack</span><span class="o">-</span><span class="n">taskbar</span><span class="o">-</span><span class="n">unread</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
<p>Since I probably need to re-run this after every update to the Slack app, I
packed this into a shell script <cite>slack-quiet</cite>.</p>


            

            <div class="metadata">
        <p>
            <small>
                Posted on July 29, 2017
                 by Benjamin Eberlei
            </small>
        </p>
    </div>
        </div><div class="separator post_separator"></div><div class="section">
            <h1><a href="2017/03/29/why_does_the_php_extension_fail_to_load_with_zval_ptr_dtor_wrapper_error.html">Why does the PHP extension fail to load with _zval_ptr_dtor_wrapper error</a></h1>
<p>I sometimes come across this error when loading an extension in PHP</p>
<div class="highlight-default"><div class="highlight"><pre><span/><span class="n">PHP</span> <span class="ne">Warning</span><span class="p">:</span>  <span class="n">PHP</span> <span class="n">Startup</span><span class="p">:</span> <span class="n">Unable</span> <span class="n">to</span> <span class="n">load</span> <span class="n">dynamic</span> <span class="n">library</span>
<span class="s1">'/usr/lib64/php-zts/5.5/modules/myext.so'</span> <span class="o">-</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">php</span><span class="o">-</span><span class="n">zts</span><span class="o">/</span><span class="mf">5.5</span><span class="o">/</span><span class="n">modules</span><span class="o">/</span><span class="n">myext</span><span class="o">.</span><span class="n">so</span><span class="p">:</span> <span class="n">undefined</span> <span class="n">symbol</span><span class="p">:</span>
<span class="n">_zval_ptr_dtor_wrapper</span> <span class="ow">in</span> <span class="n">Unknown</span> <span class="n">on</span> <span class="n">line</span> <span class="mi">0</span>
</pre></div>
</div>
<p>From the Google results it is not very easy to find out what this means.</p>
<p>Technically the extension was compiled with a PHP version using the
<span class="docutils literal"><span class="pre">-enable-debug</span></span> flag, which wraps all calls to <span class="docutils literal"><span class="pre">zval_ptr_dtor</span></span> in a wrapper
macro that does not exist in a regular, non-debug build.</p>
<p>But a debug extension and non-debug PHP are incompatible.</p>
<p>PHP extensions are only compatible between different installations if the
following constraints are the same for the compiling and the executing PHP
binary:</p>
<ul class="simple">
<li>OS (Linux, Mac)</li>
<li>libc (glibc or musl for Alpine)</li>
<li>PHP version up to the minor level (5.5, 5.6, 7.0, 7.1)</li>
<li>extension version (20151012 for PHP 7.0)</li>
<li>thread-safety (ZTS) or non-thread-safety (NTS)</li>
<li>debug or non-debug (<span class="docutils literal"><span class="pre">--enable-debug</span></span> flag during compile).</li>
</ul>


            
            <div class="tags">
                More about: 
                <a href="tags/phpextension.html">PHPExtension</a>
                
                
            </div>
            

            <div class="metadata">
        <p>
            <small>
                Posted on March 29, 2017
                 by Benjamin Eberlei
            </small>
        </p>
    </div>
        </div><div class="separator post_separator"></div><div class="section">
            <h1><a href="2017/03/13/how_to_complete_a_side_project_and_turn_it_into_a_business_level1.html">How to complete a side project and turn it into a business (Level 1)</a></h1>
<p>Almost four years ago I wrote about <a class="reference external" href="https://beberlei.de/2013/04/06/a_failed_side_project.html">Lessons learned: A failed side project</a> and when I stumbled
across the post <a class="reference external" href="http://ewanvalentine.io/how-to-never-complete-anything/">How to *never* complete anything</a> several days ago I
felt it was time for an update. Ewan’s post covers similar lessons learned that I
wrote about in my post and I heard about many side projects that failed
because of similar mistakes.</p>
<p>There was an argument on HackerNews what a side project is, so I want to
clarify this up front. I am talking about side-projects written with some intend
of turning them into a business, as opposed to side-projects that are started for
learning new technical skills.</p>
<p>Three years ago I have started working on a PHP profiling and monitoring
side-project, which I turned into a business called <a class="reference external" href="https://tideways.io">Tideways</a>. In this post I wanted to share some of the reasons why
I think this project was successful.</p>
<p>The idea for “XHProf as a Service” was on my “Side Project Ideas” trello board,
where I write everything down that I want to try or experiment with. I have
picked it out for implementation as my new side project, because that month I
would have needed this for a large scale load-testing project at my job with
<a class="reference external" href="https://qafoo.com">Qafoo</a>. It was not the first time I needed this for
myself, I felt a regular pain that a product like this didn’t exist.</p>
<p>Not wanting to make the same mistakes, I have applied all the lessons learned from 2013:</p>
<ul class="simple">
<li><strong>I picked a small scope</strong>: The first version contained very few features, re-used
the existing xhprof PHP extension (Tideways now has its own) and instead of a
daemon collecting data in realtime used a cronjob to collect data from a
directory every minute. After six months of development I removed half of
the features I experimented with to reduce the scope again.</li>
<li><strong>I did not compete with the established competition on features</strong>, instead I focussed
on two single features that I thought where the most important: Response time
monitoring and Callgraph profiling. By focussing on a niche (PHP intead of all
languages) I was able to provide a better solution than existing generic tools (obviously biased).</li>
<li><strong>I did not work all alone on the project</strong>, instead I have immediately enlisted
alpha-users that gave valuable feedback after 1 month of work and some of
them are still our most active customers; brought in my employer Qafoo who is
now a shareholder in the new business; formed business partnerships with
companies that are now our biggest customers and re-sellers.</li>
<li><strong>I did not keep the idea secret</strong>, when I announced our beta program
publically in June 2014 the launch newsletter list received 250 sign ups and 60
Twitter followers in a few hours.</li>
<li><strong>I choose boring technology</strong>, using a monolithic Symfony, PHP, MySQL
backend and jQuery frontend stack allowed me to iterate very fast on new
features with technology that I already mastered. I <a class="reference external" href="http://mcfunley.com/choose-boring-technology">spent three innovation
tokens</a> on using Golang for
the daemon, using Elasticsearch as TimeSeries database and later on learning
C for the PHP extension.</li>
</ul>
<p>Making these decisions has not magically turned my side project into a
profit-generating business. However I have avoided all the problems that I have
written about in my failed side project lessons post from four years ago.</p>
<p>The fast iterations on a small scope combined with early user feedback showed
that this idea will work as a business and it was worthwhile to keep pushing
for two years, until the project generated enough revenue after all other costs
to pay my full time salary.</p>
<p>This felt like passing level 1 in getting a bootstrapped side project of the
ground (there are many more levels after that).</p>


            
            <div class="tags">
                More about: 
                <a href="tags/sideprojects.html">SideProjects</a>
                 / 
                <a href="tags/bootstrapping.html">Bootstrapping</a>
                
                
            </div>
            

            <div class="metadata">
        <p>
            <small>
                Posted on March 13, 2017
                 by Benjamin Eberlei
            </small>
        </p>
    </div>
        </div><div class="archive_link">
        <a href="archive.html">Archive</a>
    </div></article></div> <!-- #main -->
				</div>
			</div></div> <!-- #main-container -->

        <div class="footer-container" role="contentinfo">
			<div class="container">
				<div class="col-md-8 col-md-offset-2">
					<div class="footer">
						<small>© Copyright 2008-2017, Benjamin Eberlei.</small>

						<script type="text/javascript">    var disqus_shortname = "whitewashing";    disqus_count();</script>
					</div>
				</div>
			</div>
        </div> <!-- footer-container -->
      </div> <!--! end of #container --><!--[if lt IE 7 ]>
          <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
          <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
        <![endif]-->

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-32146757-1', 'auto');
          ga('send', 'pageview');
        </script>

    </body>
</html>