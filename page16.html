<!DOCTYPE html><!--[if lt IE 7]>      <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="Blog of Benjamin Eberlei, covering a wide range of programming, bootstrapping and entrepreneurial topics">
        <meta name="viewport" content="width=device-width">
        <meta name="google-site-verification" content="mycr8JCbLYq9QcOyh4Ub1esAdN-awH9ut6nyTKUTgE4">
        <title>Page 16 &mdash; beberlei.de</title>
            <link rel="stylesheet" href="/_static/pygments.css" type="text/css" />
            <link rel="stylesheet" href="/_static/css/bootstrap.min.css" type="text/css" />
            <link rel="stylesheet" href="/_static/blog.css" type="text/css" />
            <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" />
        <link rel="shortcut icon" href="_static/tinkerer.ico" /><!-- Load modernizr and JQuery -->
        <script src="_static/vendor/modernizr-2.6.2.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="_static/vendor/jquery-1.8.2.min.js"><\/script>')</script>
        <script src="_static/plugins.js"></script>
        <script src="_static/main.js"></script>
        <link rel="search" title="Search" href="search.html" /><link rel="next" title="Older" href="page17.html" /><link rel="prev" title="Newer" href="page15.html" /><link rel="alternate" type="application/rss+xml" title="RSS" href="rss.html" /><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.5.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script><script type="text/javascript" src="_static/underscore.js"></script><script type="text/javascript" src="_static/doctools.js"></script></head>
    <body role="document">
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

      <div id="container"><nav class="navbar navbar-dark">
		  <div class="container">
			  <div class="navbar-header">
				  <a class="navbar-brand" href="https://beberlei.de">Benjamin Eberlei</a>
			  </div>

			  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				  <ul class="nav navbar-nav navbar-right">
						<li><a href="index.html">Home</a></li>
						<li><a href="pages/about.html">About</a></li>
						<li><a href="pages/imprint.html">Imprint</a></li>
						<li><a href="/archive.html">Archive</a></li>
					  <li><a href="/rss.xml">RSS</a></li>
				  </ul>
			  </div>
		  </div>
		</nav><div class="main-container" role="main"><div class="container">
				<div class="row">
					<div class="col-md-8 col-md-offset-2 col-sm-12"><article role="article">
							<div class="section">
            <h1><a href="2009/01/07/seven-things.html">Seven Things</a></h1>
<p>I have been tagged by
<a class="reference external" href="http://dolfschimmel.freeaqingme.com/?p=78">Freeaqingme</a> and the blog
letter machinery. So read on for seven things you probably may not know
about me.</p>
<ul class="simple">
<li>I will get my degree in some weeks, currently intensively writting on
my thesis. My major is economics though. I probably won’t get a job
with that sooner or later. I actually don’t want to, I have a job as
programmer already.</li>
<li>One christmas many years ago (Pentium PCs to 200Mhz were the coolest
thing around) i wished and wished for a computer for playing Command
and Conquer and stuff. What i got was a 3/86 i could only run crap
with. So i had to start programming.</li>
<li>In 11th grade (7 years ago) I took part in the german computer
science olympics (<a class="reference external" href="http://www.bwinf.de/uploads/media/bwi20/runde1/20bwinf.pdf">exercise still
online</a>)
using PHP and writing thousands of lines of nested aray and for loop
code and print the solution to the browser. No need to say I utterly
failed, because I didn’t know a bit about algorithms, pointers and
objects at all.</li>
<li>I have only learned about what good programming practices are (OO,
functional, whatever) really means in the last two years, spending
almost every free minute of those many i had on projects to test
around with patterns and programming styles.</li>
<li>I went to my first conference last year september, the IPC in Mainz,
getting to know lots of great people in the community.</li>
<li>I don’t have a license at all (<a class="reference external" href="http://blog.libssh2.org/index.php?/archives/122-Seven-Things.html">Reference to
Sara</a>).
I am afraid of driving cars, although I drive my bike through the
biggest crossroads in town like nuts.</li>
<li>I am a timeline oriented reader, having made me masterplans to read
both all the Discworld and Ian Rankin novels in the correct order to
not miss a single reference.</li>
</ul>
<p>Its sad that everyone I would want to tag was already tagged by someone
else, still for the head count:</p>
<ul class="simple">
<li><a class="reference external" href="http://weierophinney.net/matthew/">Matthew Weierophinney</a>, because
he helped me understand Zend Framework alot.</li>
<li><a class="reference external" href="http://www.dasprids.de/">Ben Scholzen</a>, because he is a fun guy to
be around <strong>#zftalk.dev</strong>.</li>
<li><a class="reference external" href="http://www.thomasweidner.com/flatpress/">Thomas Weidner</a>, because
I like his dedication towards his ZF components.</li>
<li><a class="reference external" href="http://kore-nordmann.de/blog.html">Kore Nordmann</a>, Bastian Feder
and Thomas Weinert, because I had great discussions with him on IPC.</li>
<li><a class="reference external" href="http://codeutopia.net/blog/">zomg aka Jani</a> because of his skills
to be referenced by PHPDeveloper.org (joke) and the good IRC
discussions.</li>
<li><a class="reference external" href="http://blogs.sun.com/netbeansphp/">Petr Pisl</a> because of the
awesome NetBeans PHP support.</li>
</ul>


            
            <div class="tags">
                More about: 
                <a href="tags/internetmemes.html">InternetMemes</a>
                
                
            </div>
            

            <div class="metadata">
        <p>
            <small>
                Posted on January 07, 2009
                
            </small>
        </p>
    </div>
        </div><div class="separator post_separator"></div><div class="section">
            <h1><a href="2009/03/11/using-zend-soap-server-and-autodiscover-in-a-controller.html">Using Zend_Soap Server and Autodiscover in a Controller</a></h1>
<p>I am in a dilemma. I have condemned the usage of Zend_Soap_Server (or
any other webservice server handler) <a class="reference external" href="http://www.whitewashing.de/blog/articles/106">inside a Model-View-Controller
application</a> before.
Still I get questions about <a class="reference external" href="http://www.whitewashing.de/blog/articles/65">my old Zend_Soap_Server and
Zend_Soap_AutoDiscover
example</a> not working in
the MVC scenario. The following example provides you with a working Soap
server inside a Zend_Controller_Action, although I discourage the use
of it and would suggest using a dedicated script outside the dispatching
process to gain multitudes of performance, which webservices often
require.</p>
<blockquote>
<div><div class="highlight-default"><div class="highlight"><pre><span/>require_once "/path/to/HelloWorldService.php";

class MyDiscouragedSoapServerController extends Zend_Controller_Action
{
    public function serverAction()
    {
        $server = new Zend_Soap_Server("http://example.com/pathto/wsdl");
        $server-&gt;setClass('HelloWorldService');
        $server-&gt;handle();
    }

    public function wsdlAction()
    {
        $wsdl = new Zend_Soap_AutoDiscover();
        $wsdl-&gt;setUri('http://example.com/pathto/server');
        $wsdl-&gt;setClass('HelloWorldService');
        $wsdl-&gt;handle();
    }
}
</pre></div>
</div>
</div></blockquote>
<p>Now all you have to do is create two routes, one that makes
<strong>http://example.com/pathto/server</strong> point to
<strong>MyDiscouragedSoapServerController::serverAction</strong> and the other route
that makes <strong>http://example.com/pathto/wsdl</strong> point to
<strong>MyDiscouragedSoapServerController::wsdlAction</strong>. The wrong version
(Version Mismatch) error comes from sending a request for the WSDL file
to the actual Soap Server, which he doesn’t like.</p>


            
            <div class="tags">
                More about: 
                <a href="tags/zendframework.html">ZendFramework</a>
                 / 
                <a href="tags/soap.html">SOAP</a>
                
                
            </div>
            

            <div class="metadata">
        <p>
            <small>
                Posted on March 11, 2009
                 by beberlei <kontakt@beberlei.de>
            </small>
        </p>
    </div>
        </div><div class="separator post_separator"></div><div class="section">
            <h1><a href="2009/03/27/test-your-legacy-php-application-with-function-mocks.html">Test your Legacy PHP Application with Function Mocks!</a></h1>
<p>Much talking is going on about Unittesting, Mocks and TDD in the PHP
world. For the most this discussions surround object-oriented PHP code,
frameworks and applications.</p>
<p>Yet I would assert that the reality for PHP developers (me included) is
dealing with PHP 4, PHP 5 migrated, or non-object oriented legacy
applications which are near to impossible to bring under test. Still
this code works, is in production and needs maintenance and possibly
extension for new features.</p>
<p>For example many applications may still use <strong>mysql_*</strong> functions at
length inside their model or have multiple nested function levels
(Example: Wordpress). <a class="reference external" href="http://pecl.php.net/package/runkit">Runkit</a> to
the rescue: A PECL extension that can hack your running PHP code, such
that method or functions are repointed to execute new implementations.
Using this extension you can actually mock out internal PHP functions,
which is great to bring legacy code under test.</p>
<p>Consider this following proof of concept, <a class="reference external" href="http://github.com/padraic/runkit/tree/master">using the Runkit extension
build by Padraic Brady</a>
(the one from pecl.php.net does not compile on PHP 5.2), which replaces
the functionality of <strong>mysql_query()</strong>. You have to set the following
option in your php.ini: <strong>runkit.internal_override = On</strong> for this to
work. By default only user-defined functions may be overwritten by
Runkit.</p>
<blockquote>
<div><div class="highlight-default"><div class="highlight"><pre><span/>class FunctionMocker
{
    protected $_mockedFuncBehaviourMap = array();

    public function mock($funcName, $return=null)
    {
        $newFuncCode = 'return "'.$return.'";';

        $renamedName = "__".$funcName."_mockOriginalCopy";
        runkit_function_copy($funcName, $renamedName);
        runkit_function_redefine($funcName, '', $newFuncCode);

        $this-&gt;_mockedFuncBehaviourMap[$funcName] = $renamedName;
    }

    public function reset()
    {
        foreach($this-&gt;_mockedFuncBehaviourMap AS $funcName =&gt; $renamedName) {
            runkit_function_remove($funcName);
            runkit_function_copy($renamedName, $funcName);
            runkit_function_remove($renamedName);
        }
        $this-&gt;_mockedFuncBehaviourMap = array();
    }
}

$mocker = new FunctionMocker();
$mocker-&gt;mock('mysql_query', 'hello world!');

echo mysql_query(); // hello world

$mocker-&gt;reset();

mysql_query(); // error
</pre></div>
</div>
<p>This example, only allows for string return values of the mock and
has no support for replacing the arguments of the mocked function.
Also chaining of different return values based on input or call
number might be interesting. Some kind of Code Generator Tool would
have to be implemented to support this functionality. Additionally
Assertions and Verifying should be implemented for the function
arguments. All in all this would allow to mock functions as you
would mock interfaces/classes, which would be a great addition for
all those legacy applications that use procedural PHP.</p>
<p>Additionally what the real killer for runkit would be: The
possibility to insert PHP callbacks instead of real PHP code into
the <strong>runkit_function_redefine</strong>.</p>
</div></blockquote>


            
            <div class="tags">
                More about: 
                <a href="tags/testing.html">Testing</a>
                
                
            </div>
            

            <div class="metadata">
        <p>
            <small>
                Posted on March 27, 2009
                
            </small>
        </p>
    </div>
        </div><div class="separator post_separator"></div><div class="section">
            <h1><a href="2009/03/10/speaking-about-framework-quality-on-the-ipc-spring-09.html">Speaking about Framework Quality on the IPC Spring 09</a></h1>
<p>Just a short notice, my thesis is taking its last breath, I will be
speaking on the <a class="reference external" href="http://www.phpconference.com">IPC Spring 09
conference</a> in Berlin end of may this
year on Framework Quality and Unittests:</p>
<blockquote>
<div><dl class="docutils">
<dt><strong>Framework Quality: Unit-Tests as silent witness</strong></dt>
<dd>Unit-Tests are often overlooked in framework discussions that focus</dd>
</dl>
<p>on features, performance, tools or database abstraction. However
they are a silent witness on how poor or well frameworks are
designed. In this presentation we will look at the testsuites of the
big players in the PHP framework business - Zend Framework,
ezComponents, Symfony and CakePHP - and reveal their hidden secrets.</p>
</div></blockquote>
<p>This talk will make heavy use of the PHP Unittest and Metrics Aggregator tool,
which i haven written on several times. For both CakePHP and Symfony extensions
for their testtools may have to be written.</p>
<p>I am really excited for my first time being speaker on a conference and
looking forward to see you at IPC.</p>


            
            <div class="tags">
                More about: 
                <a href="tags/conferences.html">Conferences</a>
                
                
            </div>
            

            <div class="metadata">
        <p>
            <small>
                Posted on March 10, 2009
                
            </small>
        </p>
    </div>
        </div><div class="separator post_separator"></div><div class="section">
            <h1><a href="2009/10/05/php-codesniffer-for-netbeans-v0-2.html">PHP CodeSniffer for Netbeans v0.2</a></h1>
<p>I finally found some time to spend some time on the <a class="reference external" href="http://github.com/beberlei/netbeans-php-enhancements/">PHP CodeSniffer for
Netbeans
plugin</a>.
Previously the plugin used an unnecessary API which restricted the use
to Netbeans 6.7.0 only. This API was removed so that the plugin should
now work with all Netbeans Versions &gt;= 6.7.0.</p>
<p>Additionally when working the previous version would scan every PHP
script on a file per file basis when the all projects or main projects
filters were activated. This rendered made the plugin almost useless. In
the current version scans of filters that contain more than one file are
blocked. That means you will only see Coding Violations when you enable
the “Current File” filter. Using any other filter will just do nothing
and won’t put your Netbeans in permanent hibernation mode (aka useless
mode).</p>
<p>There is also some preference <strong>“phpcs.codingStandard”</strong> using the
<strong>`NbPreferences
API &lt;http://bits.netbeans.org/dev/javadoc/org-openide-util/org/openide/util/NbPreferences.html&gt;`_</strong>
which allows to configure the coding standard. [STRIKEOUT:However this
feature was contributed by Manuel Pichler and I don’t yet understand how I can
manipulate it. Maybe someone knows how (*Looking in Mapis general
direction*)?] By default the Zend Coding Standard is used.</p>
<p><strong>Update:</strong> Coding Standard can be changed by hacking into the config
file .netbeans/6.7/config/Preferences.properties setting
“phpcs.CodingStandard=”. Additionally I fixed several bugs with the
inline highlighting that did not refresh when lines in the file changed.</p>


            
            <div class="tags">
                More about: 
                <a href="tags/netbeans.html">Netbeans</a>
                
                
            </div>
            

            <div class="metadata">
        <p>
            <small>
                Posted on October 05, 2009
                 by beberlei <kontakt@beberlei.de>
            </small>
        </p>
    </div>
        </div><div class="archive_link">
        <a href="archive.html">Archive</a>
    </div></article></div> <!-- #main -->
				</div>
			</div></div> <!-- #main-container -->

        <div class="footer-container" role="contentinfo">
			<div class="container">
				<div class="col-md-8 col-md-offset-2">
					<div class="footer">
						<small>© Copyright 2008-2018, Benjamin Eberlei.</small>
					</div>
				</div>
			</div>
        </div> <!-- footer-container -->
      </div> <!--! end of #container --><!--[if lt IE 7 ]>
          <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
          <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
        <![endif]-->

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-32146757-1', 'auto');
          ga('send', 'pageview');
        </script>

    </body>
</html>